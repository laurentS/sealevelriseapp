(this.webpackJsonpsealevel=this.webpackJsonpsealevel||[]).push([[0],{33:function(e,t,a){e.exports=a(50)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),c=a.n(r),l=(a(38),a(39),a(40),a(29)),s=a(11),i=a(22),m=a(14),p=a.n(m),u=a(19),h=(a(42),function(e){return new Promise(function(){var t=Object(u.a)(p.a.mark((function t(a,n){var o,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=String(e).replace(" ",""),t.prev=1,t.next=4,fetch("https://api.postcodes.io/postcodes/".concat(o));case 4:return(r=t.sent).ok||("404"===String(r.status)?n("Post Code not found. Please enter a full UK Postcode"):n("Please enter a valid UK postcode ")),t.next=8,r.json();case 8:c=t.sent,a({lat:c.result.latitude,lng:c.result.longitude}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n("There was an error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}())}),d=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],f=function(){var t=Object(u.a)(p.a.mark((function t(a){var n,o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,h(r);case 4:n=t.sent,o=n.lat,c=n.lng,e.history.push("/map/14/".concat(c,"/").concat(o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),d(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"home"},o.a.createElement("div",{className:"home__postcode-form-container"},o.a.createElement("form",{className:"home__postcode-form",onSubmit:f},o.a.createElement("h1",{className:"home__title"},"Will My House Be Flooded?",o.a.createElement("span",{className:"home__warning-emoji",role:"img"},"\u26a0\ufe0f")),o.a.createElement("legend",{className:"home__legend"},"Find out if rising sea levels will affect your home"),m&&o.a.createElement("div",{className:"home__error-message"},m),o.a.createElement("div",{className:"home__form-inputs"},o.a.createElement("input",{className:"home__postcode-input",placeholder:"Enter your postcode",type:"text",onChange:function(e){return c(e.target.value)}}),o.a.createElement("button",{className:"home__submit",type:"submit"},"Search")))),o.a.createElement("div",{className:"home__background-image"}))},f=a(26),v=a(27),g=a(31),_=a(28),E=a(32),w=a(53),b=a(54),y=a(52),x=(a(43),function(){return o.a.createElement("div",{onClick:function(e){var t=document.getElementsByClassName("map__info")[0];"20%"!==t.style.top?t.style.top="20%":t.style.top="calc(100% - 60px)"}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 284.929 284.929"},o.a.createElement("path",{d:"M282.082 195.285L149.028 62.24c-1.901-1.903-4.088-2.856-6.562-2.856s-4.665.953-6.567 2.856L2.856 195.285C.95 197.191 0 199.378 0 201.853c0 2.474.953 4.664 2.856 6.566l14.272 14.271c1.903 1.903 4.093 2.854 6.567 2.854s4.664-.951 6.567-2.854l112.204-112.202 112.208 112.209c1.902 1.903 4.093 2.848 6.563 2.848 2.478 0 4.668-.951 6.57-2.848l14.274-14.277c1.902-1.902 2.847-4.093 2.847-6.566.001-2.476-.944-4.666-2.846-6.569z"})))}),N=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(_.a)(t).call(this,e))).onViewportChanged=function(e){var t="/map/".concat(e.zoom,"/").concat(e.center[1].toFixed(5),"/").concat(e.center[0].toFixed(5));a.props.history.replace(t)},a.state=e.match.params,a}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=[e.lat,e.lng];return o.a.createElement("div",{className:"map"},o.a.createElement(w.a,{center:t,zoom:e.zoom,maxZoom:15,onViewportChanged:this.onViewportChanged},o.a.createElement(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),o.a.createElement(b.a,{attribution:'<a href="https://climatecentral.org/">Climate Central</a>',maxNativeZoom:11,url:"https://d1jpwx71i0x1cy.cloudfront.net/map/5ec03d4c7f9bd9f5c84822a1234834d1/{z}/{x}/{y}"}),o.a.createElement(y.a,{position:t})),o.a.createElement("div",{className:"map__info"},o.a.createElement("div",{className:"map__info-up-arrow"},o.a.createElement(x,null)),o.a.createElement("h1",{className:"map__info-title"},"Warning"," ",o.a.createElement("span",{className:"map__warning-emoji",role:"img"},"\u26a0\ufe0f")),o.a.createElement("p",null,"The red zone shows the predicted flood levels in 2030, areas that are expected to flood on average once a year.",o.a.createElement("br",null),"(Read the science on ",o.a.createElement("a",{href:"https://coastal.climatecentral.org/map/6/-4.5936/54.2445/?theme=sea_level_rise&map_type=coastal_dem_comparison&elevation_model=coastal_dem&forecast_year=2050&pathway=rcp45&percentile=p50&return_level=return_level_1&slr_model=kopp_2014"},"Climate Central"),")"),o.a.createElement("p",null,"Vote for the candidate who will make a government committed to climate change \u2013 or buy some sandbags."),o.a.createElement("p",null,"The Conservative Government has failed to act on Climate Change, but are on track to win another five years in office."),o.a.createElement("div",{className:"btm-par"},o.a.createElement("a",{href:"https://tactical.vote",target:"_blank",rel:"noopener noreferrer"},"Find candidates who will stop the Tories and protect the climate"," "))))}}]),t}(o.a.Component);a(45);var k=function(){return o.a.createElement(l.a,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{exact:!0,path:"/",component:d}),o.a.createElement(s.b,{exact:!0,path:"/map/:zoom/:lng/:lat",component:N}),o.a.createElement(s.b,{path:"*"},o.a.createElement(s.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.0b996079.chunk.js.map