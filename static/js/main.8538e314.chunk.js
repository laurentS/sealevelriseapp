(this.webpackJsonpsealevel=this.webpackJsonpsealevel||[]).push([[0],{33:function(e,t,a){e.exports=a(49)},38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),c=a.n(r),s=(a(38),a(39),a(29)),l=a(11),i=a(22),m=a(14),u=a.n(m),h=a(19),p=(a(41),function(e){return new Promise(function(){var t=Object(h.a)(u.a.mark((function t(a,n){var o,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=String(e).replace(" ",""),t.prev=1,t.next=4,fetch("https://api.postcodes.io/postcodes/".concat(o));case 4:return(r=t.sent).ok||("404"===String(r.status)?n("Post Code not found. Please enter a full UK Postcode"):n("There was an error")),t.next=8,r.json();case 8:c=t.sent,a({lat:c.result.latitude,lng:c.result.longitude}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n("There was an error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}())}),d=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),m=l[0],d=l[1],f=function(){var t=Object(h.a)(u.a.mark((function t(a){var n,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,p(r);case 4:n=t.sent,o=n.lat,c=n.lng,e.history.push("/map/14/".concat(c,"/").concat(o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),d(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"home"},o.a.createElement("div",{className:"home__postcode-form-container"},o.a.createElement("form",{className:"home__postcode-form",onSubmit:f},o.a.createElement("h1",{className:"home__title"},"Will My House Be Flooded?"),o.a.createElement("legend",{className:"home__legend"},"Find out if rising sea levels will affect your home"),m&&o.a.createElement("div",{className:"home__error-message"},m),o.a.createElement("div",{className:"home__form-inputs"},o.a.createElement("input",{className:"home__postcode-input",placeholder:"Postcode",type:"text",onChange:function(e){return c(e.target.value)}}),o.a.createElement("button",{className:"home__submit",type:"submit"},"Search")))),o.a.createElement("div",{className:"home__background-image"}))},f=a(26),v=a(27),b=a(31),g=a(28),E=a(32),w=a(52),y=a(53),_=a(51),x=(a(42),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).onViewportChanged=function(e){var t="/map/".concat(e.zoom,"/").concat(e.center[1].toFixed(5),"/").concat(e.center[0].toFixed(5));a.props.history.push(t)},a.state=e.match.params,a}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=[e.lat,e.lng];return o.a.createElement("div",{className:"map"},o.a.createElement(w.a,{center:t,zoom:e.zoom,maxZoom:18,onViewportChanged:this.onViewportChanged},o.a.createElement(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),o.a.createElement(y.a,{attribution:'<a href="https://climatecentral.org/">Climate Central</a>',url:"https://d1jpwx71i0x1cy.cloudfront.net/map/5ec03d4c7f9bd9f5c84822a1234834d1/{z}/{x}/{y}?token=c6fb3d1a7bd5eff4deada8ec166bc7f9"}),o.a.createElement(_.a,{position:t})),o.a.createElement("div",{className:"map-bottom"},o.a.createElement("div",{class:"btm-par"},"If you or your family life live in the red zone, you should vote for the candidate who will make a government committed to climate change \u2013 or buy some sandbags. The Conservative Government has failed to act on Climate Change, but are on track to win another five years in office."),o.a.createElement("div",{class:"btm-par"},o.a.createElement("a",{href:"https://tactical.vote",target:"_blank",rel:"noopener noreferrer"},"Find candidates who will stop the Tories and protect the climate "))))}}]),t}(o.a.Component));a(44);var k=function(){return o.a.createElement(s.a,null,o.a.createElement("div",null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/",component:d}),o.a.createElement(l.b,{exact:!0,path:"/map/:zoom/:lng/:lat",component:x}),o.a.createElement(l.b,{path:"*"},o.a.createElement(l.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.8538e314.chunk.js.map